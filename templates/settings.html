<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AURA - Settings</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <nav class="bg-blue-600 text-white p-4 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold">AURA</h1>
            <div class="space-x-4">
                <a href="/" class="hover:underline">Home</a>
                <a href="/faces" class="hover:underline">Faces</a>
                <a href="/logs" class="hover:underline">Logs</a>
                <a href="/settings" class="hover:underline font-bold">Settings</a>
            </div>
        </div>
    </nav>

    <div class="container mx-auto p-4">
        <div class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-2xl font-bold mb-6">Settings</h2>
            
            <div class="space-y-6">
                <div>
                    <h3 class="text-lg font-semibold mb-3">Voice Settings</h3>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Speech Rate</label>
                            <input type="range" id="tts-rate" min="50" max="300" value="150" class="w-full">
                            <span id="tts-rate-value" class="text-sm text-gray-600">150</span>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Volume</label>
                            <input type="range" id="tts-volume" min="0" max="100" value="80" class="w-full">
                            <span id="tts-volume-value" class="text-sm text-gray-600">80%</span>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="text-lg font-semibold mb-3">Alert Settings</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <label class="text-sm font-medium text-gray-700">Enable Critical Alerts</label>
                            <input type="checkbox" id="critical-alerts" checked class="w-4 h-4">
                        </div>
                        <div class="flex items-center justify-between">
                            <label class="text-sm font-medium text-gray-700">Enable Important Alerts</label>
                            <input type="checkbox" id="important-alerts" checked class="w-4 h-4">
                        </div>
                        <div class="flex items-center justify-between">
                            <label class="text-sm font-medium text-gray-700">Enable Informational Alerts</label>
                            <input type="checkbox" id="informational-alerts" checked class="w-4 h-4">
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="text-lg font-semibold mb-3">Detection Settings</h3>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Confidence Threshold</label>
                            <input type="range" id="confidence-threshold" min="0.1" max="0.9" step="0.05" value="0.25" class="w-full">
                            <span id="confidence-value" class="text-sm text-gray-600">0.25</span>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Distance Sensitivity</label>
                            <select id="distance-sensitivity" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div>
                    <button id="save-settings" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg w-full">
                        Save Settings
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('tts-rate').addEventListener('input', (e) => {
            document.getElementById('tts-rate-value').textContent = e.target.value;
        });

        document.getElementById('tts-volume').addEventListener('input', (e) => {
            document.getElementById('tts-volume-value').textContent = e.target.value + '%';
        });

        document.getElementById('confidence-threshold').addEventListener('input', (e) => {
            document.getElementById('confidence-value').textContent = parseFloat(e.target.value).toFixed(2);
        });

        document.getElementById('save-settings').addEventListener('click', () => {
            const settings = {
                ttsRate: document.getElementById('tts-rate').value,
                ttsVolume: document.getElementById('tts-volume').value / 100,
                criticalAlerts: document.getElementById('critical-alerts').checked,
                importantAlerts: document.getElementById('important-alerts').checked,
                informationalAlerts: document.getElementById('informational-alerts').checked,
                confidenceThreshold: document.getElementById('confidence-threshold').value,
                distanceSensitivity: document.getElementById('distance-sensitivity').value
            };

            localStorage.setItem('aura_settings', JSON.stringify(settings));
            alert('Settings saved! (Note: Some settings require restart to take effect)');
        });

        // Load saved settings
        const savedSettings = localStorage.getItem('aura_settings');
        if (savedSettings) {
            const settings = JSON.parse(savedSettings);
            document.getElementById('tts-rate').value = settings.ttsRate || 150;
            document.getElementById('tts-rate-value').textContent = settings.ttsRate || 150;
            document.getElementById('tts-volume').value = (settings.ttsVolume || 0.8) * 100;
            document.getElementById('tts-volume-value').textContent = Math.round((settings.ttsVolume || 0.8) * 100) + '%';
            document.getElementById('critical-alerts').checked = settings.criticalAlerts !== false;
            document.getElementById('important-alerts').checked = settings.importantAlerts !== false;
            document.getElementById('informational-alerts').checked = settings.informationalAlerts !== false;
            document.getElementById('confidence-threshold').value = settings.confidenceThreshold || 0.25;
            document.getElementById('confidence-value').textContent = settings.confidenceThreshold || 0.25;
            document.getElementById('distance-sensitivity').value = settings.distanceSensitivity || 'medium';
        }
    </script>
</body>
</html>

